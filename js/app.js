function isTouchDevice(){try{return document.createEvent("TouchEvent"),!0}catch(n){return!1}}function dateTimeRangeValidate(n,t,i){var r=n.data("kendoDatePicker"),u=t.data("kendoDatePicker");r&&u&&(i<0?r.value().getTime()>u.value().getTime()?u.value(r.value()):u.value().getTime()+i*day-r.value().getTime()>0&&u.value(new Date(r.value().getTime()-i*day)):r.value().getTime()<u.value().getTime()?u.value(r.value()):u.value().getTime()+i*day-r.value().getTime()<0&&u.value(new Date(r.value().getTime()-i*day)))}function dateDif(n,t){var r,u,f,e,i=t-n;return i=Math.floor(i/36e5),r=i>0?Math.floor(i/24):Math.ceil(i/24),u=i-r*24,e=r==0?"":r+" д",u==0?f="":(u<0&&r!=0&&(u*=-1),f=u+" ч"),e==""&&f==""?"0":e+" "+f}function setStartDate(n,t){return new Date(Date.parse(n)+t*day)}function setOffsetDate(n,t){return new Date(Date.parse(n)+t*hour)}function getMskTime(n){return n||(n=new Date),new Date(n.getTime()+(getOffset()+-4)*36e5)}function convertMskTimeToLocal(n){return n||(n=new Date),new Date(n.getTime()-getOffset()*36e5)}function SetEndDate(n,t,i,r){n.setHours(t);n.setMinutes(i);n.setSeconds(r);var u=getOffset();return u!=0?setOffsetDate(n,u*-1):n}function GetDate(n){Object.prototype.toString.call(n)!=="[object Date]"&&(n=new Date(n));var t=new Intl.DateTimeFormat("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit"}),i=new Intl.DateTimeFormat("ru-RU",{hour:"2-digit",minute:"2-digit"});return(t.format(n)+" "+i.format(n)).replace(/\u200E/gi,"")}function GetDateShort(n){Object.prototype.toString.call(n)!=="[object Date]"&&(n=new Date(n));var t=new Intl.DateTimeFormat("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit"});return n.toLocaleString("ru",{year:"numeric",month:"numeric",day:"numeric"}).replace(/\u200E/gi,"")}function setDateTime(n,t,i){var r=n.getDate(),u=n.getMonth(),f=n.getFullYear(),e=t||0,o=i||0;return new Date(f,u,r,e,o,0)}function getOffset(){return(new Date).getTimezoneOffset()/60+7}function dateToJSONWithoutTimezone(n){return new Date(n.getTime()-n.getTimezoneOffset()*6e4).toJSON()}function T_CLTOM(n){var t=Number(n),i=Math.floor(t);return Math.round(i*60+(t-i)*100)}function getDayOfMonth(n,t){var i=n||new Date;return t&&t.toLowerCase()=="last"?new Date(i.getFullYear(),i.getMonth()+1,0,23,59,59):new Date(i.getFullYear(),i.getMonth(),1,0,0,0)}function getDatePeriod(n,t){if(n)switch(t){case 0:return new Date(n.getFullYear(),n.getMonth(),1);case 1:return new Date(n.getFullYear(),n.getMonth()+1,0)}}function daysInMonth(n,t){return new Date(t,n,0).getDate()}function parseDate(n){var t=n.split(" ");return new Date(t[0].split(".")[2],t[0].split(".")[1]-1,t[0].split(".")[0],t[1].split(":")[0],t[1].split(":")[1],t[1].split(":")[2])}function SetGridDateOffset(n){var t,u,i,r;if(n.response&&(t=n.response,n.type=="read"&&(u=getOffset(),u!=0)))for(i in t.value)for(r in t.value[i])t.value[i][r]&&r.toUpperCase().indexOf("DATE")!=-1&&(t.value[i][r]=setOffsetDate(t.value[i][r],u))}function SetGridDateOffsetColumn(n,t){var i,f,r,u;if(n.response&&(i=n.response,n.type=="read"&&(f=getOffset(),f!=0)))for(r in i.value)for(u in i.value[r])i.value[r][u]&&u==t&&(i.value[r][u]=setOffsetDate(i.value[r][u],f))}function dsKendo(n,t,i){return new kendo.data.DataSource({page:1,type:"odata-v4",serverFiltering:!0,serverPaging:!1,transport:{read:{url:serviceRoot+n,data:t,dataType:"json",contentType:"application/json",type:"GET",async:i||!1,xhrFields:{withCredentials:!0}}},schema:{model:{id:"ID",fields:{ID:{editable:!1,type:"number"},NAME:{type:"string",nullable:!1}}}}})}function dsKendoAsync(n,t){return new kendo.data.DataSource({page:1,type:"odata-v4",serverFiltering:!0,serverPaging:!1,transport:{read:{url:serviceRoot+n,data:t,dataType:"json",contentType:"application/json",type:"GET",async:!0,xhrFields:{withCredentials:!0}}},schema:{model:{id:"ID",fields:{ID:{editable:!1,type:"number"},NAME:{type:"string",nullable:!1}}}}})}function resizeElement(n,t){for(var u=n.split(","),f=Math.floor($("body").height()-$("#header1").height()-t||0),r,i=0;i<u.length;i++)r=$("#"+u[i]),r&&r.height(f);return f}function resizeElementofParent(n,t,i){for(var f=t.split(","),e=Math.floor($(n).innerHeight()-i||0),u,r=0;r<f.length;r++)u=$("#"+f[r]),u&&u.outerHeight(e);return e}function dsTreeKendo(n,t,i,r){return new kendo.data.HierarchicalDataSource({type:"odata-v4",transport:{read:{url:function(){return serviceRoot+n},data:t,dataType:"json",contentType:"application/json",type:"GET",async:i||!1,xhrFields:{withCredentials:!0}}},schema:{model:{id:"ID_DICTIONARY",hasChildren:"CHILD",expanded:r||!1}}})}function dsTreeListKendo(n,t,i){return new kendo.data.TreeListDataSource({type:"odata-v4",transport:{read:{url:function(t){return t.hasOwnProperty("id")?serviceRoot+n+"?ID_DICTIONARY="+t.id+"&STATUS="+statusKE:serviceRoot+n},data:t,dataType:"json",contentType:"application/json",type:"GET",async:!1,xhrFields:{withCredentials:!0}}},schema:{model:{id:"ID_DICTIONARY",parentId:"ID_NODE",fields:{ID_NODE:{field:"ID_NODE",nullable:!0},ID_DICTIONARY:{field:"ID_DICTIONARY",nullable:!1,type:"number"},STATUS:{field:"STATUS",nullable:!0,type:"number"},hasChildren:{field:"CHILD",type:"boolean"}}}},sort:i||[]})}function dsTreeListMenuKendo(n,t){return new kendo.data.TreeListDataSource({type:"odata-v4",transport:{read:{url:function(t){return t.hasOwnProperty("id")?serviceRoot+n+"?ID_DICTIONARY="+t.id+"&STATUS="+STATUS+"&STATUS_EXT="+STATUS_EXT:serviceRoot+n},data:t,dataType:"json",contentType:"application/json",type:"GET",async:!0,xhrFields:{withCredentials:!0}}},schema:{model:{id:"ID_DICTIONARY",parentId:"ID_NODE",fields:{ID_NODE:{field:"ID_NODE",nullable:!0},ID_DICTIONARY:{field:"ID_DICTIONARY",nullable:!1,type:"number"},STATUS:{field:"STATUS",nullable:!0,type:"number"},STATUS_EXT:{field:"STATUS_EXT",nullable:!0,type:"number"},hasChildren:{field:"CHILD",type:"boolean"}}}}})}function jqService(n,t,i,r,u,f,e){var o=null;return $.get({url:serviceRoot+n,data:t,dataType:e||"json",async:r||!1,type:i||"GET",xhrFields:{withCredentials:!0}}).success(function(n){o=n;u&&u(n,f)}).error(function(t,i,r){u&&u("error");console.log("error "+n+": "+r)}),o}function jqExtendedService(n,t,i,r,u,f){var e=null;return $.get({url:n,data:t,dataType:f||"json",async:r||!1,type:i||"GET",xhrFields:{withCredentials:!0}}).success(function(n){e=n;u&&u(n)}).error(function(t,i,r){u&&u("error");console.log("error "+n+": "+r)}),e}function jqService1(n,t,i,r,u){var f=null;return $.get({url:serviceRoot+n,processData:!1,contentType:"application/json",type:i||"GET",async:r||!1,xhrFields:{withCredentials:!0}}).success(function(n){f=n;u&&u(n)}).error(function(t,i,r){console.log("error "+n+": "+r)}),f}function adjustDropDownWidth(n){var t=n.sender.list.closest(".k-list-container");t.width(t.width()+kendo.support.scrollbar())}function JsonArrayProp2String(n,t,i){var f="",u=n.length,e=i||",",r;if(n!=null&&u>0)for(r=0;r<u;r++)f+=n[r][t]+(r<u-1?e:"");return f}function distinctArr(n,t){var u=[],f=[],r;if(n.length>0&&n[0].items)for(i=0;i<n.length;i++)for(j=0;j<n[i].items.length;j++)(r={},u[n[i].items[j][t]])||(u[n[i].items[j][t]]=!0,r[t]=n[i].items[j][t],f.push(r));else for(i=0;i<n.length;i++)(r={},u[n[i][t]])||(u[n[i][t]]=!0,r[t]=n[i][t],f.push(r));return f.sort(function(n,i){return n[t]>i[t]?1:n[t]<i[t]?-1:0})}function launchFullScreen(n){n.requestFullScreen?n.requestFullScreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullScreen&&n.webkitRequestFullScreen()}function cancelFullscreen(){document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()}function SetScroll(n){var t=$("#"+n+" .k-grid-content")[0],i=t.scrollHeight,r=$("#"+n+".k-grid table").css("min-width").replace("px","")-1;$("body").width(r);t.scrollLeft=1;t.scrollLeft=0;$("body").css("width","100%");t.scrollHeight!=i&&SetScroll(n)}function SetClientProfile(n,t){var i={};try{i=JSON.parse(jqService("/api/ClientText",{IdClient:n,IdRes:t,Type:3},"POST"))||{}}catch(r){console.log("!ERORR!",r)}i.Columns||(i.Columns=JSON.parse(localStorage.getItem("web"+t)),i.Groups=JSON.parse(localStorage.getItem("webGroup"+t)),i.ContextMenu=JSON.parse(localStorage.getItem("webContextMenu"+t)),i.FilterSetting=JSON.parse(localStorage.getItem("webfilterSetting"+t)),i.FormSetting=JSON.parse(localStorage.getItem("webFormSetting"+t)));i.Columns&&i.Columns.length>0&&(cProfileGroup="null",cProfileGrid=i.Columns.toString());i.Groups&&i.Groups.length>0&&(cProfileGroup=i.Groups.toString());i.ContextMenu&&i.ContextMenu.length>0&&(cProfileContextMenu=i.ContextMenu.toString());i.FilterSetting&&i.FilterSetting.length>0&&(cProfilefilterSetting=i.FilterSetting);i.FormSetting&&i.FormSetting.length>0&&(cProfileFormSetting=i.FormSetting);i.ColumnOrder&&i.ColumnOrder.length>0&&(window.cProfileColumnOrder=i.ColumnOrder)}function concatParams(n){var i="?",r="",t="";for(p in n)n[p]!=null&&(typeof n[p]=="string"&&Number(n[p])==null&&(t="'"),i+=r+p+"="+escape(t+n[p]+t),r="&",t="");return i=="?"?"":i}function jqSuggestions(n,t,i){var r=null;return $.get({url:"https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/"+n,data:JSON.stringify(t),dataType:"json",contentType:"application/json",headers:{Authorization:"Token 7c59fd1c2bd28b97cb7349eacad154c9943d6f06"},async:i||!1,type:"POST"}).success(function(n){r=n}).error(function(t,i,r){console.log("error "+n+": "+r)}),r}function resizeContentElement(n,t,i){var r=n.innerHeight();t.each(function(){$(this)[0]!=i[0]&&(r=r-$(this).outerHeight())});i.outerHeight(Math.floor(r)-2)}function resizeTabAndGrid(n){for(var t,i=0;i<$(n).children().length;i++)t=$(n).children()[i],$(t).attr("data-grid")!=undefined&&($(t).outerHeight(Math.floor($(n).innerHeight()-$(".k-tabstrip-items").outerHeight())),resizeContentElement($(t),$(t).children(),$("#"+$(t).attr("id")+" .k-grid-content")))}function translateTime(n){var t,i;return n?(t=n/60^0,t?(i=n%60,i<10&&(i="0"+i),t<10&&(t="0"+t),n=String(t)+":"+i):(n==0&&(n="00"),n<10&&(n="0"+n),n="00:"+n),n=="00:000"?n.substring(0,5):n.substring(0,8)):"00:00"}function translateTimeIESV(n){var t,i;return n?(t=n/60^0,t?(i=n%60,i<10&&(i="0"+i),t<10&&(t="0"+t),n=String(t)):(n==0&&(n="00"),n<10&&(n="0"+n),n="00:"+n),n=="00:000"?n.substring(0,5):n.substring(0,8)):"00:00"}function translateTimeToFormat(n){var r,i,t;return(timeTmp=n,!n)?"0 суток 00:00":(r=Math.abs(n)/1440^0,r?(i=(Math.abs(n)/60^0)-(Math.abs(n)/1440^0)*24,i?(t=Math.round(Math.abs(n)%60),t<10&&(t="0"+t),i<10&&(i="0"+i),n=String(r)+(r%100==1?" сутки ":" суток ")+String(i)+":"+(t=="000"?"00":t)):(t=Math.round(Math.abs(n)%60),t==0&&(t="00"),t<10&&(t="0"+t),n=String(r)+(r%100==1?" сутки ":" суток ")+"00:"+(t=="000"?"00":t))):(i=Math.abs(n)/60^0,i?(t=Math.round(Math.abs(n)%60),t<10&&(t="0"+t),i<10&&(i="0"+i),n=String(r)+" суток "+String(i)+":"+(t=="000"?"00":t)):(Math.abs(n)==0&&(n="00"),n=Math.abs(n)<10?"0"+Math.round(n):Math.round(Math.abs(n)),n=String(r)+" суток 00:"+(n=="000"?"00":n))),n=="1 сутки 00:000"?timeTmp<0?"-"+n.substring(0,13):n.substring(0,13):timeTmp<0?"-"+n:n)}function conditionalSum(n,t){var r,u,f,i;if(n){for(r=n.data(),f=0,i=0;i<r.length;i++)u=r[i],u[t]&&(f+=Number(u[t]));return f}return 0}function conditionalSumGroup(n,t){for(var i,f=0,u=typeof n.parent=="function"?n.parent().aggregates.parent().items:n,r=0;r<u.length;r++)i=u[r],i[t]?f+=Number(i[t]):i.items&&(f+=conditionalSumGroup(i.items,t));return f}function findForInternetExplorer(n,t,i,r){if(t!=null)for(var u=0;u<t.length;u++)if(i==t[u][n])return r?t[u][r]:t[u];return null}function expandSelectTree(n,t,i,r,u){var e,f;n.dataSource.get(i)?n.expandTo(i):(e=JSON.parse("["+jqService("/api/ResListNodes",{id:i,id_node:t})+"]"),r&&e.splice(0,r),n.expandPath(e));f=n.dataSource.get(i);f&&(n.select(n.findByUid(f.uid)),!u&&n.dropdowntree&&$(n.dropdowntree)[0].text(getFullNameTree(f)))}function calcOffsetTop(n,t){var i=Math.round(n/2);return x=t>i?t-i:0}function expandSelectTreeList(n,t,i){var f,r,u;if(i&&t!=i){for(f=JSON.parse("["+jqService("/api/ResListNodes",{id:i,id_node:t})+"]"),u=0;u<f.length;u++)r=n.dataSource.get(f[u]),r&&n.expand(n.itemFor(r));r=n.dataSource.get(i);r&&n.select(n.itemFor(r));var e=n.element.attr("id"),o=n.select()[0].offsetTop,s=$("#"+e+" > .k-grid-content")[0].offsetHeight;$("#"+e+" > .k-grid-content").animate({scrollTop:calcOffsetTop(s,o)})}else n.select($("#treeRes .k-grid-content tr:first"))}function getFullNameTree(n,t){var i,r;return t?i=t:(i=[],i.push(n.NAME)),r=n.parent().parent(),typeof r=="object"&&(i.unshift(r.NAME),getFullNameTree(r,i)),i.join(".")}function getFullNameTreeList(n,t,i,r){var u;return obj=n.get(t),u=i?i:[],obj.ID_NODE>0?(u.unshift(obj.NAME),getFullNameTreeList(n,obj.ID_NODE,u)):u.unshift(obj.NAME),i||r||u.pop(),u.join(".")}function sheetReplaceTimeExcel(n,t,i){var e=t&&t.length>0,u,f,r;if(e)for(u=0;u<n.length;u++){if(n[u].type=="header")for(f=0;f<n[u].cells.length;f++)for(r=0;r<t.length;r++)n[u].cells[f].value==t[r].title&&(t[r].col=f);if(n[u].type=="data")for(r=0;r<t.length;r++)t[r].col&&(n[u].cells[t[r].col].value=n[u].cells[t[r].col].value/1440,n[u].cells[t[r].col].format=t[r].format);if(n[u].type=="footer")for(r=0;r<t.length;r++)t[r].col&&(n[u].cells[t[r].col].value=conditionalSum(i||dataSource1,t[r].field)/1440,n[u].cells[t[r].col].format=t[r].format)}}function FindRowByKey(n,t,i){for(var r=0;r<n.length;r++)if(n[r][t]==i)return n[r];return null}function sheetReplaceExcel(n,t,i,r){var s=t&&t.length>0,h=i.data(),o,f,e,u;if(s)for(f=0;f<n.length;f++){if(n[f].type=="header")for(e=0;e<n[f].cells.length;e++)for(u=0;u<t.length;u++)n[f].cells[e].value==t[u].title&&(t[u].col=e),n[f].cells[e].value==r.title&&(t[u].keyIndex=e);if(n[f].type=="data")for(u=0;u<t.length;u++)t[u].col&&(o=FindRowByKey(h,r.field,n[f].cells[t[u].keyIndex].value),o&&(n[f].cells[t[u].col].value=t[u].func?t[u].func(o[t[u].field]):o[t[u].field]),t[u].format&&(n[f].cells[t[u].col].format=t[u].format))}}function fallbackCopyTextToClipboard(n){var t=document.createElement("textarea");t.value=n;document.body.appendChild(t);t.focus();t.select();document.execCommand("copy");document.body.removeChild(t)}function copyTextToClipboard(n){if(!navigator.clipboard){fallbackCopyTextToClipboard(n);return}navigator.clipboard.writeText(n)}function searchClient(n,t,i,r,u){var o="/odata/SearchClientInfo",f,e;(u&&(o="/odata/SearchClientInfoByPhone"),f=$(n),f.attr("data-search")&&f.attr("data-search").trim().length<4&&!t)||(e={search:"'"+(f.attr("data-search")||f.val().trim()||t)+"'",$select:"ID_CLIENT,NAME_CLIENT,NAME_PROF,NAME_CONTRACTOR,SEARCHCODE,NAME_PODRAZ,NAME_WORKPLACE,NUMBER_PHONE,MAIL,NAME_AD"},i&&(e.$filter=i),isProcess=!0,f.addClass("custom-loading"),jqService(o,e,"GET",!0,function(t){if(typeof t=="object"&&t.value.length>0){var i=f.attr("style");f.removeAttr("style");f.attr("style","width:99%");clients=$(n).kendoDropDownList({dataSource:t.value,autoWidth:!0,height:600,noDataTemplate:"Не найдено!",dataTextField:"NAME_CLIENT",dataValueField:"ID_CLIENT",template:'<span style="display:block;line-height:1.4em; font-size:1.2em;">#: NAME_CLIENT #<\/span><span style="font-size:10px;display:block;line-height:1.4em; font-size:1em;">#: NUMBER_PHONE #<\/span><span style="font-size:10px;display:block;line-height:1.4em; font-size:1em;">#: NAME_PROF #<\/span><span style="font-size:10px;display:block;line-height:1.4em; font-size:1em;">#: NAME_CONTRACTOR #<\/span>',cascade:function(){console.log(999,this.dataItem());r&&r(this.dataItem())},dataBound:function(){this.dataSource.data().length>1&&this.open()}}).data("kendoDropDownList");f.removeClass("custom-loading")}isProcess=!1}))}function searchClientProxy(n){var t=$(n[0]);t.attr("data-search","");t.val("");searchClient(n[0],n[1],n[2],window[n[3]])}function sortText(n,t,i){var o,u,f,e,r=0,s,h,c=/(\.\d+)|(\d+(\.\d+)?)|([^\d.]+)|(\.\D+)|(\.$)/g;if(n===t)return 0;for(o=((i?n.KOD+" - ":"")+n.NAME).toLowerCase().match(c),u=((i?t.KOD+" - ":"")+t.NAME).toLowerCase().match(c),h=o.length;r<h;){if(!u[r])return 1;if(f=o[r],e=u[r++],f!==e)return(s=f-e,!isNaN(s))?s:f>e?1:-1}return u[r]?-1:0}function GetRIMS(n,t,i,r){var u=null;return $.ajax({url:serviceRoot+"/api/Rims/Service",data:{url:n,pars:JSON.stringify(t)},dataType:"json",contentType:"application/json",async:i||!1,type:"GET",xhrFields:{withCredentials:!0}}).success(function(n){u=n;r&&r(n)}).error(function(n,t,i){console.log("error",i)}),u}function setValuePopupProxy(n){typeof window.setValuePopup=="function"&&setValuePopup(n[0],n[1])}function commonWindowInitialization(n){return n.kendoWindow({actions:["Close"],visible:!1,closable:!0,modal:!0,open:function(){$("[data-role=draggable] .k-window-title").prepend('<img src="'+actionImages+'/logo.png" style="max-width:20px; float:left;  margin: -0.2em 0.1em 0.2em 0.2em;"/>')},iframe:!0,animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}}}).data("kendoWindow")}function kendoFastReDrawRow(n,t,i,r,u){var o,h;if(!n||!n.select){console.log("kendoFastReDrawRow","требуется объект kendoGrid");return}var s=n.select(),f=n.dataItem(s),e=n.dataSource.options;e.group&&delete e.group;o=new kendo.data.DataSource(e);h=n.content.scrollTop();o.read(t).then(function(){var e=o.view(),t,c;if(e.length>0)for(t in f)t!="uid"&&(f[t]=e[0][t]);else n.dataSource.remove(f);i&&!0?n.refresh():(c=n.rowTemplate(f),s.replaceWith(c),n.refresh(),n.select("tr[data-uid='"+f.uid+"']"));r&&n.content.scrollTop(h);u&&u.call()})}function kendoFastReDrawRows(n,t,i,r){var e=n.dataItem(n.select())[i],u=n.dataSource.options,f;u.group&&delete u.group;f=new kendo.data.DataSource(u);f.read(r).then(function(){var h=n.dataSource._data.filter(function(n){return n[i]==e}),r=f.view(),u,s,o;if(r.length>0)for(u in r)if(s=h.filter(function(n){return n[t]==r[u][t]})[0],s)for(o in r[u])o!="uid"&&(s[o]=r[u][o]);n.refresh()})}function comparisonObjects(n,t){if(Object.keys(n).length!=Object.keys(t).length)return!1;for(var i in n){if(typeof t[i]=="object"&&typeof n[i]=="object")return comparisonObjects(n[i],t[i]);if(!t.hasOwnProperty(i)||t[i]!=n[i])return!1}return!0}function objectArrayConunction(n,t){for(var u=[],r,i=0;n.length>i;i++)for(r=0;t.length>r;r++)if(comparisonObjects(t[r],n[i])){u.push(n[i]);break}return u}function objectArrayDisjunction(n,t){for(var f=[],u,r,i=0;n.length>i;i++){for(u=!0,r=0;t.length>r;r++)if(comparisonObjects(t[r],n[i])){u=!1;break}u&&f.push(n[i])}return f}function objectArrayConunctionByAttrribute(n,t,i,r){var e,u,f;for(r=r||i,e=[],u=0;n.length>u;u++)for(f=0;t.length>f;f++)if(t[f][r]==n[u][i]){e.push(n[u]);break}return e}function objectArrayDisjunctionByAttrribute(n,t,i,r){var e,u,o,f;for(r=r||i,e=[],u=0;n.length>u;u++){for(o=!0,f=0;t.length>f;f++)if(t[f][r]==n[u][i]){o=!1;break}o&&e.push(n[u])}return e}function deepCompare(){function u(n,r){var f;if(isNaN(n)&&isNaN(r)&&typeof n=="number"&&typeof r=="number"||n===r)return!0;if(typeof n=="function"&&typeof r=="function"||n instanceof Date&&r instanceof Date||n instanceof RegExp&&r instanceof RegExp||n instanceof String&&r instanceof String||n instanceof Number&&r instanceof Number)return n.toString()===r.toString();if(!(n instanceof Object&&r instanceof Object)||n.isPrototypeOf(r)||r.isPrototypeOf(n)||n.constructor!==r.constructor||n.prototype!==r.prototype||t.indexOf(n)>-1||i.indexOf(r)>-1)return!1;for(f in r)if(r.hasOwnProperty(f)!==n.hasOwnProperty(f)||typeof r[f]!=typeof n[f])return!1;for(f in n){if(r.hasOwnProperty(f)!==n.hasOwnProperty(f)||typeof r[f]!=typeof n[f])return!1;switch(typeof n[f]){case"object":case"function":if(t.push(n),i.push(r),!u(n[f],r[f]))return!1;t.pop();i.pop();break;default:if(n[f]!==r[f])return!1}}return!0}var n,r,t,i;if(arguments.length<1)return!0;for(n=1,r=arguments.length;n<r;n++)if(t=[],i=[],!u(arguments[0],arguments[n]))return!1;return!0}function kendoFastReDrawRowProxy(n){kendoFastReDrawRow(window[n[0]],n[1])}function kendoFastReDrawRowsProxy(n){kendoFastReDrawRows(window[n[0]],n[1],n[2],n[3])}function IsColumnHidden(n){var t=cProfileGrid==null?"":","+cProfileGrid+",",i=cProfileGroup==null?"":","+cProfileGroup+",";return t.indexOf(","+n+",")==-1||i.indexOf(","+n+",")!=-1?!0:!1}function waitAsync(n,t,i,r,u,f){u==null&&(u=20,f=0);n.call()?t.call():(u--,f++,u>=0&&setTimeout(function(){waitAsync(n,t,i,r,u,f)},r||500),f>u&&typeof i=="function"&&i.call())}function templateFirstPage(n,t,i,r){var u,o,f,e;for($(r).appendTo(t),u=$(n+" .k-grid-header"),o=$(n+" .k-grid-content"),o.css("color","#000"),o.css("font-size","11pt"),u.clone().appendTo(t),$(t+" .k-grid-header").attr("class","k-grid-header-custom"),$(t+" .k-grid-header-custom").css("padding-right","0"),u.find('[role="rowgroup"]').find('[role="row"]').each(function(){$(this).hide()}),f='<tr role="row" id="tmpRow">',e=0;e<i;e++)f+='<th scope="col" role="columnheader" class="k-header">'+(e+1)+"<\/th>";f+="<\/tr>";$(f).appendTo(u.find('[role="rowgroup"]'));$(t).show()}function endTemplateFirstPage(n,t){var i,r;$(t).hide();$(t).empty();$(n+" .k-grid-header #tmpRow").remove();i=$(n+" .k-grid-content");i.css("color","inherit");i.css("font-size","inherit");r=$(n+" .k-grid-header");r.find('[role="rowgroup"]').find('[role="row"]').each(function(){$(this).show()})}function checkedNodeCol(n,t,i,r){for(var u=0;u<n.length;u++)n[u].checked&&n[u][r]&&(i&&i.indexOf(n[u].ID_NODE)!=-1||t.push(n[u][r]),i&&i.push(n[u].id)),n[u].hasChildren&&checkedNodeCol(n[u].children.view(),t,i,r)}function uncheckedNodeCol(n,t,i,r){for(var u=0;u<n.length;u++)!n[u].checked&&n[u][r]&&(i&&i.indexOf(n[u].ID_NODE)!=-1||t.push(n[u][r]),i&&i.push(n[u].id)),n[u].hasChildren&&checkedNodeCol(n[u].children.view(),t,i,r)}function getCheckNodesCol(n,t,i){var r=[],u=t||"id";return checkedNodeCol(n.dataSource.view(),r,[],u),r.join(i||",")}function getCheckNodes(n,t){var i=[],r=t||"id";return checkedNodeCol(n.dataSource.view(),i,undefined,r),"'"+i.join(",")+"'"}function getUnCheckNodes(n,t){var i=[],r=t||"id";return uncheckedNodeCol(n.dataSource.view(),i,undefined,r),"'"+i.join(",")+"'"}function getValueNode(n,t){var i=n.dataItem(n.select().closest("tr"));return i?i[t]:null}function refreshTreeList(n,t){var i=n.select(),r=n.dataSource.get(t);n.dataItem(i).hasChildren?typeof notLoaded!="undefined"&&notLoaded?n.dataItem(i).expanded&&(n.dataSource.read(),n.select(i)):n.dataItem(i).expanded&&(r.loaded(!1),n.dataSource.load(r),n.select(i)):typeof notLoaded!="undefined"&&notLoaded?n.dataItem(i).expanded&&(n.dataSource.read(),n.select(i)):(r.loaded(!1),n.dataSource.load(r),n.select(i),n.dataItem(i).hasChildren=!0,r.loaded(!1));n.refresh()}function searchInTreeView(n,t,i,r,u,f,e,o,s,h){var a,y;if($("."+s).removeClass(s),o!=""){var l=e.call(),v=n.dataSource._pristineData,c=[];for(a in l)for(y in v)if(l[a][t].indexOf(i+v[y][r])!=-1||l[a][u]==v[y][r]){c.push(l[a]);break}return c.length>0&&(c.sort(function(n,t){return n[f].localeCompare(t[f])}),selectInTreeView(n,c[0],r,u,s,h,c,t,i)),c}return[]}function selectInTreeView(n,t,i,r,u,f,e,o,s){n.expandPath(t[o].split(s));waitAsync(function(){return n.dataSource.get(t[r])!=null},function(){var i=n.dataSource.get(t[r]);n.select(n.findByUid(i.uid));markKendoWidgetObject(n,e,r,u);setTimeout(f,300)})}function StepInSearch(n,t,i,r,u,f,e,o,s){if(i.length>0){var c=t.dataItem(t.select()),h=i.indexOf(i.filter(function(n){return n[u]==c[r]})[0]);h=h+n;h<0?h=i.length-1:h>=i.length&&(h=0);selectInTreeView(t,i[h],r,u,f,e,i,o,s)}}function markKendoWidgetObject(n,t,i,r){var f,u;for(f in t)u=n.dataSource.get(t[f][i]),u&&n.findByUid(u.uid).addClass(r)}function flash(n,t){if(!n.hasClass("flashAnimation")){t=t||"gold";n.addClass("flashAnimation");var r=n.css("background-color"),i=n.attr("style");i=i==null?" ":i;n.css("transition","background-color 0.8s ease-out 0s");n.css("background-color",t);setTimeout(function(){n.css("background-color",r)},300);setTimeout(function(){n.attr("style",i)},600);setTimeout(function(){n.removeClass("flashAnimation")},1200)}}function LoadActiveTabFunction(n,t,i,r,u){var e,f,t;r=typeof r!="undefined"?r:"active";e=t==null?"mainTabstrip":t;f=$("#"+e+" > * > .k-state-active")[0].dataset[r];f!=null?typeof n!="undefined"&&((reqestMemory[f]!=n||i)&&window[f](u),reqestMemory[f]=n):(t=$("#"+e+" > * > .k-state-active")[0].dataset.include,t&&LoadActiveTabFunction(n,t,i,r,u))}function setFilterMultiCheck(n,t){var i=n.thead.find("[data-field="+t.field+"]").data("kendoFilterMultiCheck"),r=new kendo.data.DataSource(n.dataSource.options),u;r.data(n.dataSource.data());n.dataSource.filter()&&r.filter(n.dataSource._filter);r.group(null);u=i.container.find("[type=checkbox]:checked");i.container.empty();i.checkSource.data(distinctArr(r.view(),t.field));i.createCheckBoxes();u.length>0&&i.container.find("[type='checkbox']").prop("checked",!0)}function dateTimeEditor(n,t,i){$('<input id="'+t.field+'_EDIT" data-text-field="'+t.field+'" data-value-field="'+t.field+'" data-bind="value:'+t.field+'" data-format="'+t.format+'"/>').appendTo(n).kendoDateTimePicker({change:function(){var r={ID_DEMAND:t.model.ID_DEMAND,ID_USER:dataModel.ID_USER};r[t.field]=setOffsetDate(this.value(),getOffset()*(i||0)).toJSON();jqService("/api/UpdateDemand",r,"POST",!0,function(t){t=="OK"&&readParentDatasource(n)})}})}function dateTimeEditorELP(n,t,i){console.log(i);$('<input id="'+t.field+'_EDIT" data-text-field="'+t.field+'" data-value-field="'+t.field+'" data-bind="value:'+t.field+'" data-format="'+t.format+'"/>').appendTo(n).kendoDateTimePicker({change:function(){var r={id:t.model.ID,idUser:dataModel.ID_USER};r.attr=setOffsetDate(this.value(),getOffset()*(i||0)).toJSON();jqService("/api/Demands/CmnExtInfoDemand",r,"PUT",!0,function(t){t=="OK"&&readParentDatasource(n)})}})}function generateColumns(n,t){var u=[],i=t||{},f=n.options.schema.model,r;for(r in f.fields)column={field:r},fieldtype=f.fields[r].type||"string",console.log(fieldtype,i[fieldtype]),fieldtype=="decimal"?column.width=i[fieldtype]||100:fieldtype=="date"?(column.format="{0:dd.MM.yy HH:mm}",column.timeFormat="HH:mm",column.width=i[fieldtype]||100):column.width=r.indexOf("NOTE")>-1?i.NOTE||500:i[fieldtype]||200,u.push(column);return u}function DeferrableFunction(n,t,i,r,u){t=t||500;u=u||!1;i=i||"Default";var e="GolblalVariableDeferrableFunctionLastPres",f="GolblalVariableDeferrableFunctionInProgress";window[e+i]=(new Date).getTime();(window[f+i]==!1||window[f+i]==null||u)&&(window[f+i]=setTimeout(function(){if(window[e+i]+t<=(new Date).getTime())n.call(),window[f+i]=!1;else{var u=window[e+i]+t-(new Date).getTime();u=u<=200?200:u;DeferrableFunction(n,i,t,r,!0)}},t));r&&(clearTimeout(window[f+i]),window[f+i]=null)}function objectDSRead(n){window[n]&&window[n].dataSource.read()}function ExpandGroupToObject(n,t){var u,o,i,r,f,h,s,e;for(t=t||n.dataSource._data[0],u=n.dataSource.group(),o=n.element.find(".k-grouping-row").toArray(),i=0;u.length>i;i++){for(r=t[u[i].field],r=r==null?"Отсутствует":r;f==null&&o.length!=0;)h=$(o.shift()),s=h.find($(".k-grouping-row [data-field='"+u[i].field+"']:contains("+r+")")),s.length>0&&(f=s.parent().parent().parent());n.expandGroup(f);f=null}e=$("[data-uid='"+n.dataSource._data.filter(function(n){return n.NOMER_DEMAND==t.NOMER_DEMAND})[0].uid+"']");n.element.children(".k-grid-content").scrollTop(e.offset().top+n.element.children(".k-grid-content").scrollTop()-n.element.height()/2-e.height()/2);n.select(e)}function findForm(n){for(var t=0;t<aForms.length;t++)if(aForms[t].name.toUpperCase()==n.toUpperCase())return aForms[t];return null}function openKendoWindow(n,t,i,r,u){var f=findForm(n),e,o;f&&(sessionStorage[n+"_Title"]=r||f.title,e=t.data("kendoWindow"),e==null&&(e=t.kendoWindow({actions:["Close"],visible:!1,closable:!0,modal:!0,open:function(){$("[data-role=draggable] .k-window-title").prepend('<img src="'+actionImages+'/logo.png" style="max-width:20px; float:left;  margin: -0.2em 0.1em 0.2em 0.2em;"/>')},iframe:!0,animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}}}).data("kendoWindow")),e.setOptions({width:f.width+"px",height:Math.min($("body").height()-32,f.height)+"px",title:r||f.title}),e.refresh({url:f.url+concatParams(i),iframe:u||!0}),e.center().open(),o=t.children("iframe")[0])}function openKendoModalWindow(n,t,i,r,u){var f=findForm(n),e;f&&(e=t.data("kendoWindow"),e.setOptions({width:(f.maxWidth?getOptimalDialogSize("w",f.maxWidth):f.width)+"px",height:(f.maxHeight?getOptimalDialogSize("h",f.maxHeight):f.height)+"px",title:r?r:f.title}),e.refresh({url:f.url+concatParams(i),iframe:u?!0:f.windowIframe}),e.center().open())}function commonKendoWindow(n,t,i,r,u,f,e){var o,s;e=e||!0;o=n.data("kendoWindow");o.setOptions({width:i,height:t+"px",title:r});o.refresh({url:u+f,iframe:e});o.center().open();s=n.children("iframe")[0]}function joinParams(n,t){return t!=null?"&"+n+"="+t:""}function openKendoWindowPopup(n,t,i,r,u,f){var e=findForm(n),o,s,h;e&&(sessionStorage[n+"_Title"]=u||e.title,o=t.data("kendoWindow"),s=i.data("kendoPopup"),s)&&(o==null&&(o=t.kendoWindow({actions:["Close"],visible:!1,closable:!0,open:function(){$("[data-role=draggable] .k-window-title").prepend('<img src="'+actionImages+'/logo.png" style="max-width:20px; float:left;  margin: -0.2em 0.1em 0.2em 0.2em;"/>')},iframe:!0,animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}}}).data("kendoWindow")),o.setOptions({width:e.width+"px",height:Math.min($("body").height()-32,e.height)+"px",title:u||e.title}),o.refresh({url:e.url+concatParams(r),iframe:f||!0}),i.css("width",e.width+"px"),i.css("height",Math.min($("body").height()-32,e.height)+"px"),i.html(t.html()),h=t.children("iframe")[0],window.parent.postMessage(JSON.stringify({form:"dlgImages",action:"close"}),"*"))}function windowAddExtAttrDynamic(n,t,i,r,u,f,e,o,s){e=e||233+u+"px";o=o||"550px";f=f||"Добавление обязательных аттрибутов";var h="";h+=joinParams("idDemand",i);h+=joinParams("idRole",r);h="?"+h.slice(1);commonKendoWindow(n,e,o,f,serviceToolsUrl+"/demand/AddExtAttrDynam",h,s)}function getOptimalDialogSize(n,t){var u=t,i,r;return n=="w"?(i=$(window).width(),i-i/10<t&&(u=i-i/10)):n=="h"&&(r=$(window).height(),r-r/12<t&&(u=r-r/12)),u}var monthes=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],localPorts={"http:":{wsdata:"49954",reports:"62843",tools:"57530"},"https:":{wsdata:"44361",reports:"44384",tools:"44391"}},protocol=location.protocol,testServiceUrl="//kraz-s-sdtest.hq.root.ad",serviceUrl=(location.hostname=="localhost"?testServiceUrl:"//"+location.host)+"/sd",testServiceRoot="//localhost:"+localPorts[protocol].wsdata,serviceRoot=location.hostname=="localhost"?testServiceRoot:"//"+location.host+"/sd/wsdata",testServiceToolsUrl="//localhost:"+localPorts[protocol].tools,serviceToolsUrl=location.hostname=="localhost"?testServiceToolsUrl:"//"+location.host+"/sd/sd_tools",serviceReportsUrl="//"+location.host+(location.hostname=="localhost"?"":"/sd/sd_reports"),helpURL=serviceToolsUrl+"/Home/Help",nRes_001_002={reskod:"001",kod:"002"},statusKE=0,minute=6e4,hour=36e5,day=hour*24,dtFormat=new Intl.DateTimeFormat(["ru"],{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"2-digit"}),TEST1,TEST2,reqestMemory,commonCheckboxTemplate,aForms;window.addEventListener("message",function(n){var o,u,r,f,s,h,t,e,i;if(n!=null&&n.data!=null&&typeof n.data!="object"&&(o=JSON.parse(n.data),o.func=="close"?(t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t),i=$("#dlgImages").data("kendoWindow"),i.setOptions({title:""}),i.close()):o.func!=null&&o.func.length!=0&&(o.params?window[o.func](o.params):window[o.func]())),event.origin.indexOf(location.hostname)!=-1)if((n.data.form||n.data.split(",")[0])=="dlgImages"){if(i=$("#dlgImages").data("kendoWindow"),i)if(n.data.proc&&typeof window[n.data.proc]=="function"&&window[n.data.proc](),n.data.action=="close")t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t),i.setOptions({title:""}),i.close();else if(n.data.action=="pageReload")location.reload();else if(n.data.action=="clientRefresh")i.setOptions({title:""}),i.close(),typeof cntData=="function"&&cntData(),SetFilter(),t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t);else if(n.data.action=="operator"){i.setOptions({title:""});i.close();var c=gridNZ.select(),l=gridNZ.dataItem(c),a={Action:"INS",idDemand:l.ID_DEMAND,idUser:dataModel.ID_CREATOR,idPerformer:dataModel.ID_PERFORMER,DateBegin:(new Date).toJSON(),DateEnd:(new Date).toJSON(),idTypeSolution:17040,TimeWork:"0,01"};jqService("/api/Demands/AddTypeSolution",a,"POST",!0,function(n){n.MESS=="OK"?kNotification.show(" Работа успешно добавлена к заявке № "+nomer_demand,"info"):kNotification.show(" Произошла ошибка при добавлении ВР!","error");gridNZ.dataSource.read()});t=$("#dlgImages").children("iframe")[0];t&&t.parentNode.removeChild(t)}else if(n.data.action=="refreshStructure")i.setOptions({title:""}),i.close(),window.gridStructure?gridStructure.dataSource.read({IdTechnoResurs:idTechnoResurs}):window.treeList&&(r=treeList.select(),f=treeList.dataSource.get(idTechnoResurs),treeList.dataItem(r).hasChildren?typeof notLoaded!="undefined"&&notLoaded?treeList.dataItem(r).expanded&&(treeList.dataSource.read(),treeList.select(r)):treeList.dataItem(r).expanded&&(f.loaded(!1),treeList.dataSource.load(f),treeList.select(r)):typeof notLoaded!="undefined"&&notLoaded?treeList.dataItem(r).expanded&&(treeList.dataSource.read(),treeList.select(r)):(f.loaded(!1),treeList.dataSource.load(f),treeList.select(r),treeList.dataItem(r).hasChildren=!0,f.loaded(!1)),treeList.refresh()),t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t);else if(n.data.action=="refreshStructureNotClose")window.gridStructure?gridStructure.dataSource.read({IdTechnoResurs:idTechnoResurs}):window.treeList&&(r=treeList.select(),f=treeList.dataSource.get(idTechnoResurs),treeList.dataItem(r).hasChildren?treeList.dataItem(r).expanded&&(f.loaded(!1),treeList.dataSource.load(f),treeList.select(r)):(f.loaded(!1),treeList.dataSource.load(f),treeList.select(r),treeList.dataItem(r).hasChildren=!0,f.loaded(!1)),treeList.refresh());else if(n.data.action=="refreshGridCMDB"){if(i.setOptions({title:""}),i.close(),window.gridCU)gridCU.dataSource.read();else if(window.treeList){if(r=treeList.select(),f=treeList.dataSource.get(keyLocation),typeof notLoaded!="undefined"&&notLoaded){$("#searchText").val(n.data.mess);treeList.dataSource.read({searchText:n.data.mess});treeList.refresh();return}r&&!treeList.dataItem(r).hasChildren?(f.loaded(!1),treeList.dataSource.load(f),treeList.select(r),treeList.dataItem(r).hasChildren=!0,f.loaded(!1)):treeList.dataItem(r).expanded&&(f.loaded(!1),treeList.dataSource.load(f),treeList.select(r));treeList.refresh()}t=$("#dlgImages").children("iframe")[0];t&&t.parentNode.removeChild(t)}else n.data.action=="refreshServices"?(typeof dsEmployee!="undefined"&&dsEmployee.read({nomer_demand:nomer_demand}),typeof dsService!="undefined"&&dsService.read()):n.data.action=="refreshServicesParams"?typeof dsServiceParams!="undefined"&&dsServiceParams.read():n.data.action=="addParent"?(s={nomerDemand:nomer_demand,idUser:dmRep_070.ID_CREATOR,idAttr:152987,attr:n.data.idRow,val:id_demand},h=jqService("/api/Demands/AddExtInfoDemand",s,"POST"),h.MESS=="OK"&&dsInfo.read({nomer_demand:nomer_demand}),t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t),i.setOptions({title:""}),i.close()):n.data.action=="addApprove"?(dsApprove.read({NOMER_DEMAND:nomer_demand}),t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t),i.setOptions({title:""}),i.close()):n.data.action=="addActions"?(createDsActions(nomer_demand),t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t),i.setOptions({title:""}),i.close()):n.data.action=="addActionsDemands"?(createDsActions(JSON.parse(n.data.data)),t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t),i.setOptions({title:""}),i.close()):n.data.action=="addViolatorDemands"?(dsResponse._data.push(JSON.parse(n.data.data)),t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t),i.setOptions({title:""}),i.close()):n.data.action=="employRefresh"?(dsEmployee&&(dsEmployee.read({nomer_demand:nomer_demand,id_demand:id_demand?id_demand:null}),t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t),i.setOptions({title:""}),i.close()),dsTV&&(dsTV.read({nomer_demand:nomer_demand,id_demand:id_demand?id_demand:null}),t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t),i.setOptions({title:""}),i.close())):n.data.action=="dsrefresh"?(dsEmployee&&dsEmployee.read({nomer_demand:nomer_demand}),dsDemand&&n.data.ds=="dsDemand"&&dsDemand.read()):n.data.action=="gridrefresh"?SetFilter():n.data.action=="cancel"?Cancel():n.data.action=="addObject"?AddObject(n.data.attributes):n.data.action=="demandRefresh"?(dsDemand&&SetFilter(),dataSource&&(dataSource.read(),createDemand.enable(!1))):n.data.action=="selectDictCMDB"?(writeKEToDemand(nomer_demand,n.data.idRow,n.data.nameRow),t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t),i.setOptions({title:""}),i.close()):n.data.action=="selectDict"&&n.data.kodDict=="RES_030"?(writeExtToDemand(nomer_demand,n.data.idRow,n.data.nameRow,n.data.kodDict),t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t),i.setOptions({title:""}),i.close()):n.data.action=="selectDict"&&n.data.kodDict=="RES_490"?(writeExtToDemand(nomer_demand,n.data.idRow,n.data.nameRow,n.data.kodDict),t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t),i.setOptions({title:""}),i.close()):n.data.action=="showMessage"?kNotification.show(" "+n.data.mess,n.data.typeMess):n.data.action=="listrefresh"?mobileListView("go"):n.data.action=="width"?(e=n.data.value,e&&i.setOptions({width:e})):n.data.action=="height"?(e=n.data.value,e&&i.setOptions({height:e})):n.data.action=="title"&&(e=n.data.value,e&&i.setOptions({title:e}))}else if(n.data&&typeof n.data!="object"){if(evt2=JSON.parse(n.data),evt2.form=="dlgImages"&&(i=$("#dlgImages").data("kendoWindow"),i))if(evt2.action=="close")t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t),i.setOptions({title:""}),i.close();else if(evt2.action=="pageReload")location.reload();else if(evt2.action=="clientRefresh")i.setOptions({title:""}),i.close(),typeof cntData=="function"&&cntData(),typeof window.UpdateInfo=="function"?(nomer_demand=nomer_demand+1,UpdateInfo(selectrow)):SetFilter(),t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t);else if(evt2.action=="operator"){i.setOptions({title:""});i.close();var c=gridNZ.select(),l=gridNZ.dataItem(c),a={Action:"INS",idDemand:l.ID_DEMAND,idUser:dataModel.ID_CREATOR,idPerformer:dataModel.ID_PERFORMER,DateBegin:(new Date).toJSON(),DateEnd:(new Date).toJSON(),idTypeSolution:17040,TimeWork:"0,01"};jqService("/api/Demands/AddTypeSolution",a,"POST",!0,function(n){n.MESS=="OK"?kNotification.show(" Работа успешно добавлена к заявке № "+nomer_demand,"info"):kNotification.show(" Произошла ошибка при добавлении ВР!","error");gridNZ.dataSource.read()});t=$("#dlgImages").children("iframe")[0];t&&t.parentNode.removeChild(t)}else if(evt2.action=="upPriority")gridDemand&&(u=gridDemand.dataItem(gridDemand.select().closest("tr")),u?kendo.confirm("Закрыть текущую заявку №"+u.NOMER_DEMAND+" по шаблону «Запрос на повышение приоритета»?").done(function(){var n={ID_DEMAND:u.ID_DEMAND,ID_USER:dataModel.ID_CREATOR,NOTE:u.NOTE?u.NOTE+"\n№ заявки: "+(arrayChkDemand.length>0?arrayChkDemand.toString():selectrow.NOMER_DEMAND):"\n№ заявки: "+(arrayChkDemand.length>0?arrayChkDemand.toString():selectrow.NOMER_DEMAND)};jqService("/api/UpdateDemand",n,"POST");jqService("/api/Demands/CloseDemandTemplate",{nomerDemand:u.NOMER_DEMAND,idTemplate:42997},"POST",!0,function(n){n.MESS=="OK"?(SetFilter(),kNotification.show(" Заявка № "+u.NOMER_DEMAND+" успешно закрыта!","info"),clearObj()):kNotification.show(" Ошибка - "+n.MESS,"error")});arrayChkDemand=[]}).fail(function(){kNotification.show(" Отказ в закрытии заявки по шаблону","info")}):kNotification.show(" В основном гриде не выбрана заявка, по которой необходимы действия","error"));else if(evt2.action=="transferOfTerm")gridDemand&&(u=gridDemand.dataItem(gridDemand.select().closest("tr")),u?kendo.confirm("Закрыть текущую заявку №"+u.NOMER_DEMAND+" по шаблону «Перенос срока SLA»?").done(function(){var n={ID_DEMAND:u.ID_DEMAND,ID_USER:dataModel.ID_CREATOR,NOTE:u.NOTE?u.NOTE+"\n№ заявки: "+selectrow.NOMER_DEMAND:"\n№ заявки: "+selectrow.NOMER_DEMAND};jqService("/api/UpdateDemand",n,"POST");jqService("/api/Demands/CloseDemandTemplate",{nomerDemand:u.NOMER_DEMAND,idTemplate:91683},"POST",!0,function(n){n.MESS=="OK"?(SetFilter(),kNotification.show(" Заявка № "+u.NOMER_DEMAND+" успешно закрыта!","info"),clearObj()):kNotification.show(" Ошибка - "+n.MESS,"error")})}).fail(function(){kNotification.show(" Отказ в закрытии заявки по шаблону","info")}):kNotification.show(" В основном гриде не выбрана заявка, по которой необходимы действия","error"));else if(evt2.action=="cancelDemandClient")gridDemand&&(u=gridDemand.dataItem(gridDemand.select().closest("tr")),u?kendo.confirm("Закрыть текущую заявку №"+u.NOMER_DEMAND+" по шаблону «Заявка отменена клиентом»?").done(function(){var n={ID_DEMAND:u.ID_DEMAND,ID_USER:dataModel.ID_CREATOR,NOTE:u.NOTE?u.NOTE+"\n№ заявки: "+selectrow.NOMER_DEMAND:"\n№ заявки: "+selectrow.NOMER_DEMAND};jqService("/api/UpdateDemand",n,"POST");jqService("/api/Demands/CloseDemandTemplate",{nomerDemand:u.NOMER_DEMAND,idTemplate:54691},"POST",!0,function(n){n.MESS=="OK"?(SetFilter(),kNotification.show(" Заявка № "+u.NOMER_DEMAND+" успешно закрыта!","info"),clearObj()):kNotification.show(" Ошибка - "+n.MESS,"error")})}).fail(function(){kNotification.show(" Отказ в закрытии заявки по шаблону","info")}):kNotification.show(" В основном гриде не выбрана заявка, по которой необходимы действия","error"));else if(evt2.action=="returnClient")gridDemand&&(u=gridDemand.dataItem(gridDemand.select().closest("tr")),u?kendo.confirm("Закрыть текущую заявку №"+u.NOMER_DEMAND+" по шаблону «Возврат на доработку по запросу Клиента»?").done(function(){var n={ID_DEMAND:u.ID_DEMAND,ID_USER:dataModel.ID_CREATOR,NOTE:u.NOTE?u.NOTE+"\n№ заявки: "+selectrow.NOMER_DEMAND:"\n№ заявки: "+selectrow.NOMER_DEMAND};jqService("/api/UpdateDemand",n,"POST");jqService("/api/Demands/CloseDemandTemplate",{nomerDemand:u.NOMER_DEMAND,idTemplate:42996},"POST",!0,function(n){n.MESS=="OK"?(SetFilter(),kNotification.show(" Заявка № "+u.NOMER_DEMAND+" успешно закрыта!","info"),clearObj()):kNotification.show(" Ошибка - "+n.MESS,"error")})}).fail(function(){kNotification.show(" Отказ в закрытии заявки по шаблону","info")}):kNotification.show(" В основном гриде не выбрана заявка, по которой необходимы действия","error"));else if(evt2.action=="returnSpec")gridDemand&&(u=gridDemand.dataItem(gridDemand.select().closest("tr")),u?kendo.confirm("Закрыть текущую заявку №"+u.NOMER_DEMAND+" по шаблону «Возврат на доработку по запросу специалиста»?").done(function(){var n={ID_DEMAND:u.ID_DEMAND,ID_USER:dataModel.ID_CREATOR,NOTE:u.NOTE?u.NOTE+"\n№ заявки: "+selectrow.NOMER_DEMAND:"\n№ заявки: "+selectrow.NOMER_DEMAND};jqService("/api/UpdateDemand",n,"POST");jqService("/api/Demands/CloseDemandTemplate",{nomerDemand:u.NOMER_DEMAND,idTemplate:44644},"POST",!0,function(n){n.MESS=="OK"?(SetFilter(),kNotification.show(" Заявка № "+u.NOMER_DEMAND+" успешно закрыта!","info"),clearObj()):kNotification.show(" Ошибка - "+n.MESS,"error")})}).fail(function(){kNotification.show(" Отказ в закрытии заявки по шаблону","info")}):kNotification.show(" В основном гриде не выбрана заявка, по которой необходимы действия","error"));else if(evt2.action=="refreshStructure")i.setOptions({title:""}),i.close(),window.gridStructure?gridStructure.dataSource.read({IdTechnoResurs:idTechnoResurs}):window.treeList&&(r=treeList.select(),f=treeList.dataSource.get(idTechnoResurs),treeList.dataItem(r).hasChildren?typeof notLoaded!="undefined"&&notLoaded?treeList.dataItem(r).expanded&&(treeList.dataSource.read(),treeList.select(r)):treeList.dataItem(r).expanded&&(f.loaded(!1),treeList.dataSource.load(f),treeList.select(r)):typeof notLoaded!="undefined"&&notLoaded?treeList.dataItem(r).expanded&&(treeList.dataSource.read(),treeList.select(r)):(f.loaded(!1),treeList.dataSource.load(f),treeList.select(r),treeList.dataItem(r).hasChildren=!0,f.loaded(!1)),treeList.refresh()),t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t);else if(evt2.action=="refreshStructureNotClose")window.gridStructure?gridStructure.dataSource.read({IdTechnoResurs:idTechnoResurs}):window.treeList&&(r=treeList.select(),f=treeList.dataSource.get(idTechnoResurs),treeList.dataItem(r).hasChildren?treeList.dataItem(r).expanded&&(f.loaded(!1),treeList.dataSource.load(f),treeList.select(r)):(f.loaded(!1),treeList.dataSource.load(f),treeList.select(r),treeList.dataItem(r).hasChildren=!0,f.loaded(!1)),treeList.refresh());else if(evt2.action=="refreshGridCMDB"){if(i.setOptions({title:""}),i.close(),window.gridCU)gridCU.dataSource.read();else if(window.treeList){if(r=treeList.select(),f=treeList.dataSource.get(keyLocation),typeof notLoaded!="undefined"&&notLoaded){$("#searchText").val(evt2.mess);treeList.dataSource.read({searchText:evt2.mess});treeList.refresh();return}r&&!treeList.dataItem(r).hasChildren?(f.loaded(!1),treeList.dataSource.load(f),treeList.select(r),treeList.dataItem(r).hasChildren=!0,f.loaded(!1)):treeList.dataItem(r).expanded&&(f.loaded(!1),treeList.dataSource.load(f),treeList.select(r));treeList.refresh()}t=$("#dlgImages").children("iframe")[0];t&&t.parentNode.removeChild(t)}else evt2.action=="refreshServices"?(typeof dsEmployee!="undefined"&&dsEmployee.read({nomer_demand:nomer_demand}),typeof dsService!="undefined"&&dsService.read()):evt2.action=="refreshServicesParams"?typeof dsServiceParams!="undefined"&&dsServiceParams.read():evt2.action=="addParent"?(s={nomerDemand:nomer_demand,idUser:dmRep_070.ID_CREATOR,idAttr:152987,attr:evt2.idRow,val:id_demand},h=jqService("/api/Demands/AddExtInfoDemand",s,"POST"),h.MESS=="OK"&&dsInfo.read({nomer_demand:nomer_demand}),t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t),i.setOptions({title:""}),i.close()):evt2.action=="addApprove"?(dsApprove.read({NOMER_DEMAND:nomer_demand}),t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t),i.setOptions({title:""}),i.close()):evt2.action=="addActionsDemands"?(createDsActions(JSON.parse(n.data)),t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t),i.setOptions({title:""}),i.close()):evt2.action=="addViolatorDemands"?(dsResponse._data.push(JSON.parse(n.data)),t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t),i.setOptions({title:""}),i.close()):evt2.action=="employRefresh"?(dsEmployee&&(dsEmployee.read({nomer_demand:nomer_demand,id_demand:id_demand?id_demand:null}),t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t),i.setOptions({title:""}),i.close()),dsDemand&&evt2.ds=="dsDemand"&&dsDemand.read(),dsTV&&(dsTV.read({nomer_demand:nomer_demand,id_demand:id_demand?id_demand:null}),t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t),i.setOptions({title:""}),i.close())):evt2.action=="dsrefresh"?dsEmployee&&dsEmployee.read({nomer_demand:nomer_demand}):evt2.action=="gridrefresh"?SetFilter():evt2.action=="cancel"?Cancel():evt2.action=="demandRefresh"?(dsDemand&&SetFilter(),window.dataSource&&(dataSource.read(),createDemand.enable(!1))):evt2.action=="approved"?(approveData.NoteComment=$("#note_comment").val(),approveData.IdTypeDemand=7686,approveData.idTypeClose=type_close_approve,jqService("/api/Demands/NextDemandStatus",approveData,"POST"),SetFilter(),$("#note_comment").val(""),addApprove.enable(!1),approve.enable(!1),notapprove.enable(!1),addClient.enable(!1),$("#note_comment").prop("disabled",!0)):evt2.action=="selectDictCMDB"?(writeKEToDemand(nomer_demand,evt2.idRow,evt2.nameRow),t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t),i.setOptions({title:""}),i.close()):evt2.action=="selectDict"&&evt2.kodDict=="RES_030"?(writeExtToDemand(nomer_demand,evt2.idRow,evt2.nameRow,evt2.kodDict),t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t),i.setOptions({title:""}),i.close()):evt2.action=="selectDict"&&evt2.kodDict=="RES_490"?(writeExtToDemand(nomer_demand,evt2.idRow,evt2.nameRow,evt2.kodDict),$("#idTypeProblem").val(evt2.idRow),$("#TP").text(evt2.nameRow),t=$("#dlgImages").children("iframe")[0],t&&t.parentNode.removeChild(t),i.setOptions({title:""}),i.close()):evt2.action=="showMessage"?kNotification.show(" "+evt2.mess,evt2.typeMess):evt2.action=="listrefresh"?mobileListView("go"):evt2.action=="width"?(e=evt2.value,e&&i.setOptions({width:e})):evt2.action=="height"?(e=evt2.value,e&&i.setOptions({height:e})):evt2.action=="title"&&(e=evt2.value,e&&i.setOptions({title:e}))}else n.data&&typeof n.data=="object"&&(n.data.form=="popup"&&(i=$("#popup").data("kendoPopup"),i&&n.data.action=="close"&&(i.close(),$("#popup").html(""))),n.data.func&&typeof window[n.data.func]=="function"&&(n.data.params?window[n.data.func](n.data.params):window[n.data.func]()))});$(document).ready(function(){if(isTouchDevice()){var n=$("body div#app");n.length&&(n.attr("data-role","view"),new kendo.mobile.Application(document.body,{useNativeScrolling:!0,platform:"android",skin:"@(kendo_theme)"}))}});reqestMemory={};commonCheckboxTemplate=function(n){return"<div><label><input  type='checkbox' name='"+n.field+"' value='#= data."+n.field+"#'><span>#= data.all || (data."+n.field+" ? data."+n.field+" : '<нет значения>') # <\/span><\/label><\/div>"};aForms=[{name:"actionReport",height:820,width:1e3,title:" ",url:serviceReportsUrl+"/rep_132"},{name:"addActions",height:540,width:980,title:"Запланировать мероприятие",url:serviceToolsUrl+"/otPb/AddActions"},{name:"addApprove",height:500,width:600,title:"Добавить согласующего",url:serviceToolsUrl+"/demand/AddApprove"},{name:"AddCMDBKE",height:500,width:650,title:"Добавление КЕ",url:serviceToolsUrl+"/demand/AddCMDBKE"},{name:"addCommentToKnowledgeBase",height:460,width:600,title:"Добавление комментария в базу знаний",url:serviceToolsUrl+"/demand/AddCommentToKnowledgeBase"},{name:"addArticleToKnowledgeBase",height:750,width:650,title:"Добавление статьи в базу знаний",url:serviceToolsUrl+"/demand/AddArticleToKnowledgeBase"},{name:"AddCompletedWork",height:580,width:600,title:"Добавление выполненной работы",url:serviceToolsUrl+"/demand/CompletedWork"},{name:"addDouble",height:700,width:600,title:"Назначение дублеров",url:serviceToolsUrl+"/demand/AddDouble"},{name:"addAndDeleteExtraAttributes",height:500,width:450,title:"Меняем дополнительный атрибут",url:serviceToolsUrl+"/demand/AddAndDeleteExtraAttributes"},{name:"addNormaNZ",height:450,width:550,title:"Назначить норму НЗ",url:serviceToolsUrl+"/demand/AddNormaNZ"},{name:"addOrUpdateExtraAttribute",height:500,width:450,title:"Меняем дополнительный атрибут",url:serviceToolsUrl+"/demand/addOrUpdateExtraAttribute"},{name:"editService",height:500,width:450,title:"Смена уточняющего статуса",url:serviceToolsUrl+"/demand/EditService"},{name:"addPlannedCompletedWork",height:650,width:560,title:"Создаём выполненную работу",url:serviceToolsUrl+"/demand/AddPlannedCompletedWork"},{name:"addRemarkClient",height:500,width:600,title:"Замечание",url:serviceToolsUrl+"/demand/AddRemarkClient"},{name:"AddViolator",height:450,width:850,title:"Работник, создавший опасность",url:serviceToolsUrl+"/OtPb/AddViolator"},{name:"AdressIESV",height:700,width:1e3,title:"Адресное пространство",url:serviceToolsUrl+"/demand/AdressIESV"},{name:"addTMC",height:650,width:900,title:"Добавление/просмотр ТМЦ",url:serviceToolsUrl+"/demand/AddTMC"},{name:"addServicesIESV",height:900,width:1e3,title:"Добавить услугу",url:serviceToolsUrl+"/demand/AddServicesIESV"},{name:"addServicesKE",height:300,width:650,title:"Добавить услугу",url:serviceToolsUrl+"/demand/AddServicesKE"},{name:"addServicesParams",height:300,width:650,title:"Добавить параметры",url:serviceToolsUrl+"/demand/AddServicesParams"},{name:"addTypeWork",height:650,width:700,title:"Карта пошагового выполнения операций",url:serviceToolsUrl+"/demand/AddTypeWork"},{name:"approveTransferOfTerm",height:400,width:600,title:"Запрос переноса срока",url:serviceToolsUrl+"/demand/approveTransferOfTerm"},{name:"cancelDemandNZ",height:350,width:600,title:"Отклонить наряд задание",url:serviceToolsUrl+"/demand/CancelDemandNZ"},{name:"changeDemandAttribute",height:500,width:600,title:"Меняем атрибут",url:serviceToolsUrl+"/demand/ChangeDemandAttribute"},{name:"changeClient",height:500,width:600,title:"Выберите клиента",url:serviceToolsUrl+"/demand/ChangeClient"},{name:"client",height:650,width:800,title:"Карточка клиента",url:serviceToolsUrl+"/demand/ClientInfo"},{name:"closeNzTemplate",height:650,width:550,title:"Закрыть Н.З. по шаблону",url:serviceToolsUrl+"/demand/CloseNzTemplate"},{name:"completeDemand",height:690,width:920,maxWidth:1e3,maxHeight:690,title:"Закрытие заявки",url:serviceToolsUrl+"/demand/CompleteDemand"},{name:"CompletedWork",height:750,width:1200,maxWidth:1400,maxHeight:2e3,title:"Добавление/просмотр выполненных работ",url:serviceToolsUrl+"/demand/CompletedWork"},{name:"consultIT",height:360,width:600,title:"Консультация по ИТ",url:serviceToolsUrl+"/demand/consultIT"},{name:"crDemandTemplIdApprove",height:760,width:650,title:"Создание заявки с назначением исполнителя",url:serviceToolsUrl+"/demand/CrDemandTemplIdApprove"},{name:"CreateDemand262401",height:500,width:980,title:"Создание заявки консультация",url:serviceToolsUrl+"/OCOHR/CreateDemand262401"},{name:"CreateDemand262405",height:650,width:980,title:"Создание заявки получение справки",url:serviceToolsUrl+"/OCOHR/CreateDemand262405"},{name:"createDemandFromDemand",height:650,width:1150,title:"Копирование заявки",url:serviceToolsUrl+"/demand/CreateDemandFromDemand"},{name:"createDemandTempl",height:650,width:1150,title:"Создать заявку по шаблону",url:serviceToolsUrl+"/demand/CreateDemandTempl"},{name:"createDemandTemplNew",height:800,width:650,title:"Создать заявку на согласование",url:serviceToolsUrl+"/demand/CreateDemandTemplNew"},{name:"createDemandTemplRule",height:650,width:1150,title:"Создать заявку по шаблону",url:serviceToolsUrl+"/demand/CreateDemandTemplRule"},{name:"createDemandTemplToID",height:840,width:770,title:"Создание заявки по шаблону",url:serviceToolsUrl+"/demand/CreateDemandTemplToID"},{name:"createDemandTemplToID02",height:600,width:770,title:"Создание заявки по шаблону",url:serviceToolsUrl+"/demand/CreateDemandTemplToID02"},{name:"createDemandTemplToIDIESV",height:800,width:770,title:"ИЭСВ Регистрация инцидента",url:serviceToolsUrl+"/demand/CreateDemandTemplToIDIESV"},{name:"createDemandTemplToIDIESV03",height:565,width:850,title:"ИЭСВ Регистрация",url:serviceToolsUrl+"/demand/CreateDemandTemplToIDIESV03"},{name:"crDemTmpIESVRepair",height:500,width:770,title:"ИЭСВ",url:serviceToolsUrl+"/demand/CrDemTmpIESVRepair"},{name:"createPostponement",height:416,width:826,title:"Перенос планируемой даты завершения",url:serviceToolsUrl+"/demand/createPostponement"},{name:"CreateDemandIESV",height:420,width:1e3,title:"Регистрация обращения",url:serviceToolsUrl+"/demand/CreateDemandIESV"},{name:"CreateDemandWithKE",height:500,width:770,title:"Создать заявку",url:serviceToolsUrl+"/demand/CreateDemandWithKE"},{name:"createNotificationIESV",height:700,width:770,title:"ИЭСВ Регистрация оповещения",url:serviceToolsUrl+"/IESV/createNotificationIESV"},{name:"createNetworkIESV",height:780,width:770,title:"ИЭСВ Работы на сети",url:serviceToolsUrl+"/IESV/createNetworkIESV"},{name:"createPlanNetworkIESV",height:900,width:900,title:"ИЭСВ Работы на сети",url:serviceToolsUrl+"/IESV/createPlanNetworkIESV"},{name:"createPlanNetworkIESV2",height:800,width:1e3,title:"ИЭСВ Работы на сети",url:serviceToolsUrl+"/IESV/createPlanNetworkIESV2"},{name:"closeNetworkDemand",height:570,width:770,title:"ИЭСВ Работы на сети",url:serviceToolsUrl+"/IESV/CloseNetworkDemand"},{name:"demandDesign",height:800,width:700,title:"Оформление заявки по шаблону",url:serviceToolsUrl+"/demand/DemandDesign"},{name:"demand/demandDocs",height:650,width:750,title:"Документы",url:serviceToolsUrl+"/demand/DemandDocs"},{name:"inDetailWindow",height:650,width:750,title:"Подробное описание",url:serviceToolsUrl+"/demand/KnowledgeBaseInDetailWindow"},{name:"editWindow",height:650,width:750,title:"Подробное описание",url:serviceToolsUrl+"/demand/KnowledgeBaseEditWindow"},{name:"otPb/demandDocs",height:500,width:800,title:"Документы",url:serviceToolsUrl+"/OtPb/DemandDocs"},{name:"paramsServicesIESV",height:500,width:990,title:"Параметры услуги",url:serviceToolsUrl+"/demand/paramsServicesIESV"},{name:"paramsServicesIESVChk",height:500,width:990,title:"Параметры услуги",url:serviceToolsUrl+"/demand/paramsServicesIESVChk"},{name:"upload/demandDocs",height:750,width:1050,title:"Документы",url:serviceToolsUrl+"/Upload/DemandDocs"},{name:"demandExt",height:650,width:750,title:"Дополнительная информация",url:serviceToolsUrl+"/demand/demandExt"},{name:"dictCMDB",height:657,width:653,title:"Поиск в справочнике CMDB",url:serviceReportsUrl+"/dictCMDB"},{name:"dictData",height:657,width:653,title:"Поиск",url:serviceReportsUrl+"/dictData"},{name:"editPPR",height:400,width:360,maxWidth:360,maxHeight:400,title:"Запись о ППР",url:serviceToolsUrl+"/demand/EditPPR"},{name:"editNZ",height:800,width:1e3,maxWidth:1e3,maxHeight:400,title:"Редактирование НЗ",url:serviceToolsUrl+"/demand/EditNZ"},{name:"editNoteNZ",height:350,width:500,title:"Комментарии/уточнения",url:serviceToolsUrl+"/demand/EditNoteNZ"},{name:"editPlanPeriod",height:460,width:900,title:"Изменение дат",url:serviceToolsUrl+"/iesv/editPlanPeriods"},{name:"findObjectCMDB",height:500,width:1200,title:"Выбор КЕ",url:serviceToolsUrl+"/demand/findObjectCMDB"},{name:"findKeFromCMDB",height:500,width:1200,title:"Выбор КЕ",url:serviceToolsUrl+"/Demand/findKeFromCMDB"},{name:"filterableHistoryDemand",height:750,width:1400,title:"Информация по заявке",url:serviceToolsUrl+"/demand/FilterableHistoryDemand"},{name:"GetInfoFromClient",height:390,width:600,title:"Запрос информации у Клиента",url:serviceToolsUrl+"/demand/GetInfoFromClient"},{name:"historyDemand",height:750,width:1400,title:"Информация по заявке",url:serviceToolsUrl+"/demand/HistoryDemand"},{name:"historyLinkDemandTree",height:850,width:1150,title:"Информация по заявке",url:serviceToolsUrl+"/demand/HistoryLinkDemandTree"},{name:"historyDemandTree",height:850,width:1250,title:"Информация по заявке",url:serviceToolsUrl+"/demand/HistoryDemandTree"},{name:"historyTree",height:650,width:900,title:"ЖЦ Заявки",url:serviceToolsUrl+"/demand/HistoryTree"},{name:"historyWorkDemandTree",height:750,width:1400,title:"Информация по заявке",url:serviceToolsUrl+"/demand/HistoryWorkDemandTree"},{name:"historyWorkDemandTreeProm",height:680,width:1e3,maxWidth:4e3,maxHeight:4e3,title:"Информация по заявке",url:serviceToolsUrl+"/demand/HistoryWorkDemandTreeProm"},{name:"lsendGroupClient",height:780,width:680,title:"Список рассылки",url:serviceToolsUrl+"/demand/lsendGroupClient"},{name:"markClient",height:400,width:750,title:"Оценка по заявке",url:serviceToolsUrl+"/demand/MarkClient"},{name:"NewOrderMulti",height:480,width:550,title:"Выдать Наряд-Задание (Н.З.)",url:serviceToolsUrl+"/demand/NewOrderMulti"},{name:"neworder",height:480,width:550,title:"Выдать Наряд-Задание (Н.З.)",url:serviceToolsUrl+"/demand/NewOrderMulti"},{name:"neworderOperator",height:450,width:630,title:"Выдать Наряд-Задание (Н.З.)",url:serviceToolsUrl+"/demand/NewOrderOperator"},{name:"relationCMDBKE",height:430,width:1e3,title:"Связывание КЕ",url:serviceToolsUrl+"/demand/relationCMDB"},{name:"reportsExpendableMaterials",height:708,width:800,title:"Редактирование документов",url:serviceToolsUrl+"/home/ReportsExpendableMaterials"},{name:"reportsTechnicalStatusOfMean",height:708,width:800,title:"Редактирование документов",url:serviceToolsUrl+"/home/ReportsTechnicalStatusOfMean"},{name:"reportsVamiFD01",height:708,width:925,title:"Редактирование документов",url:serviceToolsUrl+"/home/ReportsVamiFD01"},{name:"returnClient",height:400,width:750,title:"Возврат на доработку",url:serviceToolsUrl+"/demand/ReturnClient"},{name:"returnForRework",height:400,width:750,title:"Возврат на доработку",url:serviceToolsUrl+"/demand/ReturnForRework"},{name:"returnStatus",height:600,width:980,title:"Вернуть на доработку",url:serviceToolsUrl+"/otPb/ReturnStatus"},{name:"otPb/editActions",height:950,width:800,title:"Редактирование",url:serviceToolsUrl+"/OtPb/editActions"},{name:"otPb/editActionsDetail",height:900,width:1024,title:"Редактирование",url:serviceToolsUrl+"/OtPb/editActionsDetail"},{name:"otPb/changeActions",height:420,width:500,title:"Редактирование",url:serviceToolsUrl+"/OtPb/changeActions"},{name:"otPb/changeViolator",height:270,width:980,title:"Редактирование",url:serviceToolsUrl+"/OtPb/changeViolator"},{name:"otPb/editDemandLP",height:550,width:800,title:"Редактирование",url:serviceToolsUrl+"/OtPb/editDemandLP"},{name:"otPb/changeResponsible",height:400,width:800,title:"Изменение ответственного",url:serviceToolsUrl+"/OtPb/changeResponsible"},{name:"QuickStatus",height:480,width:680,title:"AAAAAAAAAAAAAAAAAAAAAAAAAA",url:serviceToolsUrl+"/demand/QuickStatus"},{name:"rep_073",height:780,width:650,title:"Поиск клиента",url:serviceReportsUrl+"/Rep_073"},{name:"VeryQuickStatus",height:500,width:800,title:"Смена статуса",url:serviceToolsUrl+"/demand/VeryQuickStatus"},{name:"schemeView",height:520,width:800,maxWidth:6e3,maxHeight:4e3,title:"Схема оборудования",url:serviceToolsUrl+"/Scheme/SchemeView"},{name:"setColumnsUser",height:650,width:700,maxWidth:700,maxHeight:2e3,title:"Профиль пользователя",url:serviceToolsUrl+"/demand/setColumnsUser"},{name:"SendTemplateDocsByMail",height:300,width:600,title:"Отправка письма по шаблону",url:serviceToolsUrl+"/home/SendTemplateDocsByMail"},{name:"shortStatus",height:670,width:700,title:"Смена статуса - Наряд-Задание",url:serviceToolsUrl+"/demand/shortStatus"},{name:"shortStatusIESV_03",height:450,width:700,title:"Смена статуса - Наряд-Задание",url:serviceToolsUrl+"/demand/shortStatusIESV_03"},{name:"shortStatusNetworkIESV",height:750,width:900,title:"Смена статуса - заявки",url:serviceToolsUrl+"/iesv/shortStatusNetworkIESV"},{name:"status",height:800,width:680,title:"Смена статуса - Наряд-Задание",url:serviceToolsUrl+"/demand/status"},{name:"statusExecTrans",height:700,width:700,title:"Решение по перевозке",url:serviceToolsUrl+"/demand/StatusExecTrans"},{name:"status_Exec",height:600,width:650,title:"Ответ",url:serviceToolsUrl+"/demand/Status_Exec"},{name:"transferOfTerm",height:350,width:600,title:"Перенос срока",url:serviceToolsUrl+"/demand/transferOfTerm"},{name:"transferOfTerm",height:350,width:600,title:"Перенос срока",url:serviceToolsUrl+"/demand/transferOfTerm"},{name:"updateListResources",height:500,width:600,title:"Выбор из справочника",url:serviceToolsUrl+"/demand/updateListResources"},{name:"upPriority",height:360,width:600,title:"Повышение приоритета",url:serviceToolsUrl+"/demand/upPriority"},{name:"workOfDemand",height:460,width:600,title:"Возврат/отклонение заявки",url:serviceToolsUrl+"/demand/workOfDemand"},]